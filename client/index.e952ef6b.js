import{S as e,i as t,s,e as n,t as l,a as r,c as a,b as o,d as c,f as i,g as u,h,j as f,k as v,l as p,m as d,n as g,o as m,p as $,q as E,r as k,u as b,v as j,w as C,x as I,y as w,z as x,A as D,B as y,C as V,D as z,E as A,F as H,G as M,H as N}from"./client.69b73ae3.js";function T(e){return e>=55296&&e<=56319}function q(e){return e>=56320&&e<=57343}function B(e){return e>=55296&&e<=56319}function L(e){return e>=56320&&e<=57343}var U=function(e,t,s){if("string"!=typeof t)throw new Error("Input must be string");for(var n,l,r=t.length,a=0,o=0;o<r;o+=1){if(n=t.charCodeAt(o),l=t[o],T(n)&&q(t.charCodeAt(o+1))&&(l+=t[o+=1]),(a+=e(l))===s)return t.slice(0,o+1);if(a>s)return t.slice(0,o-l.length+1)}return t}.bind(null,(function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,s=0,n=null,l=null,r=0;r<t;r++)L(n=e.charCodeAt(r))?null!=l&&B(l)?s+=1:s+=3:n<=127?s+=1:n>=128&&n<=2047?s+=2:n>=2048&&n<=65535&&(s+=3),l=n;return s})),F=/[\/\?<>\\:\*\|"]/g,G=/[\x00-\x1f\x80-\x9f]/g,O=/^\.+$/,P=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,S=/[\. ]+$/;function J(e,t){if("string"!=typeof e)throw new Error("Input must be string");var s=e.replace(F,t).replace(G,t).replace(O,t).replace(P,t).replace(S,t);return U(s,255)}function K(e){let t,s,$,E,k,b,j,C,I,w,x,D,y,V;return{c(){t=n("div"),s=n("div"),$=l(e[0]),E=r(),k=n("div"),b=l("Med"),j=r(),C=n("div"),I=l("Hako.re"),w=r(),x=n("div"),D=l("2 months ago"),this.h()},l(n){t=a(n,"DIV",{class:!0});var l=o(t);s=a(l,"DIV",{class:!0});var r=o(s);$=c(r,e[0]),r.forEach(i),E=u(l),k=a(l,"DIV",{class:!0});var h=o(k);b=c(h,"Med"),h.forEach(i),j=u(l),C=a(l,"DIV",{class:!0});var f=o(C);I=c(f,"Hako.re"),f.forEach(i),w=u(l),x=a(l,"DIV",{class:!0});var v=o(x);D=c(v,"2 months ago"),v.forEach(i),l.forEach(i),this.h()},h(){h(s,"class","title cell svelte-1bv00jo"),h(k,"class","translator cell svelte-1bv00jo"),h(C,"class","source cell svelte-1bv00jo"),h(x,"class","date cell svelte-1bv00jo"),h(t,"class","book-item svelte-1bv00jo")},m(n,l){f(n,t,l),v(t,s),v(s,$),v(t,E),v(t,k),v(k,b),v(t,j),v(t,C),v(C,I),v(t,w),v(t,x),v(x,D),y||(V=p(t,"click",(function(){d(e[1])&&e[1].apply(this,arguments)})),y=!0)},p(t,[s]){e=t,1&s&&g($,e[0])},i:m,o:m,d(e){e&&i(t),y=!1,V()}}}function Q(e,t,s){let{title:n}=t,{source:l}=t,{azw:r}=t,{onClick:a}=t;return e.$$set=e=>{"title"in e&&s(0,n=e.title),"source"in e&&s(2,l=e.source),"azw"in e&&s(3,r=e.azw),"onClick"in e&&s(1,a=e.onClick)},[n,a,l,r]}class R extends e{constructor(e){super(),t(this,e,Q,K,s,{title:0,source:2,azw:3,onClick:1})}}function W(e){let t,s,l,c,g,m,$;return{c(){t=n("div"),s=n("div"),l=r(),c=n("div"),g=n("button"),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=o(t);s=a(n,"DIV",{class:!0}),o(s).forEach(i),l=u(n),c=a(n,"DIV",{class:!0});var r=o(c);g=a(r,"BUTTON",{class:!0}),o(g).forEach(i),r.forEach(i),n.forEach(i),this.h()},h(){h(s,"class","overlay svelte-ejmol4"),h(g,"class","close-btn svelte-ejmol4"),h(c,"class","detail-content svelte-ejmol4"),h(t,"class","detail-container svelte-ejmol4")},m(n,r){f(n,t,r),v(t,s),v(t,l),v(t,c),v(c,g),m||($=p(g,"click",(function(){d(e[1])&&e[1].apply(this,arguments)})),m=!0)},p(t,s){e=t},d(e){e&&i(t),m=!1,$()}}}function X(e){let t,s=e[0]&&W(e);return{c(){t=n("div"),s&&s.c()},l(e){t=a(e,"DIV",{});var n=o(t);s&&s.l(n),n.forEach(i)},m(e,n){f(e,t,n),s&&s.m(t,null)},p(e,[n]){e[0]?s?s.p(e,n):(s=W(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:m,o:m,d(e){e&&i(t),s&&s.d()}}}function Y(e,t,s){let{open:n=!0}=t,{onClose:l}=t;return e.$$set=e=>{"open"in e&&s(0,n=e.open),"onClose"in e&&s(1,l=e.onClose)},[n,l]}class Z extends e{constructor(e){super(),t(this,e,Y,X,s,{open:0,onClose:1})}}function _(e,t,s){const n=e.slice();return n[8]=t[s],n}function ee(e,t){let s,n,l;function r(){return t[6](t[8])}return n=new R({props:{onClick:r,title:t[8].title,source:t[8].href}}),{key:e,first:null,c(){s=$(),E(n.$$.fragment),this.h()},l(e){s=$(),k(n.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){f(e,s,t),b(n,e,t),l=!0},p(e,s){t=e;const l={};2&s&&(l.onClick=r),2&s&&(l.title=t[8].title),2&s&&(l.source=t[8].href),n.$set(l)},i(e){l||(j(n.$$.fragment,e),l=!0)},o(e){C(n.$$.fragment,e),l=!1},d(e){e&&i(s),I(n,e)}}}function te(e){let t,s,d,g,m,$,z,M,N,T,q,B,L,U,F,G=[],O=new Map,P=e[1];const S=e=>e[8].slug;for(let t=0;t<P.length;t+=1){let s=_(e,P,t),n=S(s);O.set(n,G[t]=ee(n,s))}return B=new Z({props:{open:e[2].open,onClose:e[3]}}),{c(){t=r(),s=n("div"),d=n("div"),g=n("div"),m=n("input"),$=r(),z=n("div"),M=n("a"),N=l("index"),T=r();for(let e=0;e<G.length;e+=1)G[e].c();q=r(),E(B.$$.fragment),this.h()},l(e){w('[data-svelte="svelte-t9esqu"]',document.head).forEach(i),t=u(e),s=a(e,"DIV",{class:!0});var n=o(s);d=a(n,"DIV",{class:!0});var l=o(d);g=a(l,"DIV",{class:!0});var r=o(g);m=a(r,"INPUT",{type:!0,class:!0}),$=u(r),z=a(r,"DIV",{style:!0});var h=o(z);M=a(h,"A",{href:!0});var f=o(M);N=c(f,"index"),f.forEach(i),h.forEach(i),r.forEach(i),T=u(l);for(let e=0;e<G.length;e+=1)G[e].l(l);l.forEach(i),q=u(n),k(B.$$.fragment,n),n.forEach(i),this.h()},h(){document.title="Light Novels Epub Collections",h(m,"type","text"),h(m,"class","svelte-kjh6nr"),h(M,"href","/series"),x(z,"display","none"),h(g,"class","search-box svelte-kjh6nr"),h(d,"class","bookshelf svelte-kjh6nr"),h(s,"class","container svelte-kjh6nr")},m(n,l){f(n,t,l),f(n,s,l),v(s,d),v(d,g),v(g,m),D(m,e[0]),v(g,$),v(g,z),v(z,M),v(M,N),v(d,T);for(let e=0;e<G.length;e+=1)G[e].m(d,null);v(s,q),b(B,s,null),L=!0,U||(F=p(m,"input",e[5]),U=!0)},p(e,[t]){1&t&&m.value!==e[0]&&D(m,e[0]),2&t&&(P=e[1],A(),G=y(G,t,S,1,e,P,O,d,H,ee,null,_),V());const s={};4&t&&(s.open=e[2].open),B.$set(s)},i(e){if(!L){for(let e=0;e<P.length;e+=1)j(G[e]);j(B.$$.fragment,e),L=!0}},o(e){for(let e=0;e<G.length;e+=1)C(G[e]);C(B.$$.fragment,e),L=!1},d(e){e&&i(t),e&&i(s);for(let e=0;e<G.length;e+=1)G[e].d();I(B),U=!1,F()}}}function se(){return this.fetch("/series.json").then((e=>e.json())).then((e=>({data:e.slice(0,8).map((e=>{return{...e,slug:(t=e.title,n=s&&s.replacement||"",l=J(t,n),""===n?l:J(l,""))};var t,s,n,l}))})))}function ne(e,t,s){let{data:n}=t,l="",r=[],a={open:!1};z((()=>{n.forEach((e=>{M(`/series/${e.slug}`)}))}));const o=e=>e.toLowerCase().trim();return e.$$set=e=>{"data"in e&&s(4,n=e.data)},e.$$.update=()=>{17&e.$$.dirty&&(l.length>2?s(1,r=n.filter((e=>o(e.title).includes(o(l)))).slice(0,8)):s(1,r=n.slice(0,8)))},[l,r,a,()=>{s(2,a={open:!1})},n,function(){l=this.value,s(0,l)},e=>{N(`/series/${e.slug}`)}]}export default class extends e{constructor(e){super(),t(this,e,ne,te,s,{data:4})}}export{se as preload};
