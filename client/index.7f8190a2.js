import{S as t,i as e,s,e as n,a as l,t as r,c as a,b as o,d as c,f as i,g as u,h,j as f,k as p,l as d,m as v,n as m,o as $,p as g,q as E,r as w,u as I,v as j,w as C,x,y as D,z as V,A as y,B as b,C as k,D as z,E as A,F as L}from"./client.ac1abd88.js";function N(t){return t>=55296&&t<=56319}function T(t){return t>=56320&&t<=57343}function q(t){return t>=55296&&t<=56319}function B(t){return t>=56320&&t<=57343}var U=function(t,e,s){if("string"!=typeof e)throw new Error("Input must be string");for(var n,l,r=e.length,a=0,o=0;o<r;o+=1){if(n=e.charCodeAt(o),l=e[o],N(n)&&T(e.charCodeAt(o+1))&&(l+=e[o+=1]),(a+=t(l))===s)return e.slice(0,o+1);if(a>s)return e.slice(0,o-l.length+1)}return e}.bind(null,(function(t){if("string"!=typeof t)throw new Error("Input must be string");for(var e=t.length,s=0,n=null,l=null,r=0;r<e;r++)B(n=t.charCodeAt(r))?null!=l&&q(l)?s+=1:s+=3:n<=127?s+=1:n>=128&&n<=2047?s+=2:n>=2048&&n<=65535&&(s+=3),l=n;return s})),F=/[\/\?<>\\:\*\|"]/g,M=/[\x00-\x1f\x80-\x9f]/g,O=/^\.+$/,P=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,S=/[\. ]+$/;function G(t,e){if("string"!=typeof t)throw new Error("Input must be string");var s=t.replace(F,e).replace(M,e).replace(O,e).replace(P,e).replace(S,e);return U(s,255)}function H(t){let e,s,g,E,w,I,j,C;return{c(){e=n("div"),s=n("div"),g=l(),E=n("div"),w=n("div"),I=r(t[0]),this.h()},l(n){e=a(n,"DIV",{class:!0});var l=o(e);s=a(l,"DIV",{class:!0}),o(s).forEach(c),g=i(l),E=a(l,"DIV",{class:!0});var r=o(E);w=a(r,"DIV",{class:!0});var h=o(w);I=u(h,t[0]),h.forEach(c),r.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","cover svelte-je393w"),h(w,"class","title svelte-je393w"),h(E,"class","content svelte-je393w"),h(e,"class","book-container svelte-je393w")},m(n,l){f(n,e,l),p(e,s),p(e,g),p(e,E),p(E,w),p(w,I),j||(C=d(e,"click",(function(){v(t[1])&&t[1].apply(this,arguments)})),j=!0)},p(e,[s]){t=e,1&s&&m(I,t[0])},i:$,o:$,d(t){t&&c(e),j=!1,C()}}}function J(t,e,s){let{title:n}=e,{source:l}=e,{azw:r}=e,{onClick:a}=e;return t.$$set=t=>{"title"in t&&s(0,n=t.title),"source"in t&&s(2,l=t.source),"azw"in t&&s(3,r=t.azw),"onClick"in t&&s(1,a=t.onClick)},[n,a,l,r]}class K extends t{constructor(t){super(),e(this,t,J,H,s,{title:0,source:2,azw:3,onClick:1})}}function Q(t){let e,s;return{c(){e=n("div"),s=r("Loading..."),this.h()},l(t){e=a(t,"DIV",{class:!0});var n=o(e);s=u(n,"Loading..."),n.forEach(c),this.h()},h(){h(e,"class","loader")},m(t,n){f(t,e,n),p(e,s)},p:$,i:$,o:$,d(t){t&&c(e)}}}class R extends t{constructor(t){super(),e(this,t,null,Q,s,{})}}function W(t){let e,s,r,u,m,$,g;return{c(){e=n("div"),s=n("div"),r=l(),u=n("div"),m=n("button"),this.h()},l(t){e=a(t,"DIV",{class:!0});var n=o(e);s=a(n,"DIV",{class:!0}),o(s).forEach(c),r=i(n),u=a(n,"DIV",{class:!0});var l=o(u);m=a(l,"BUTTON",{class:!0}),o(m).forEach(c),l.forEach(c),n.forEach(c),this.h()},h(){h(s,"class","overlay svelte-ejmol4"),h(m,"class","close-btn svelte-ejmol4"),h(u,"class","detail-content svelte-ejmol4"),h(e,"class","detail-container svelte-ejmol4")},m(n,l){f(n,e,l),p(e,s),p(e,r),p(e,u),p(u,m),$||(g=d(m,"click",(function(){v(t[1])&&t[1].apply(this,arguments)})),$=!0)},p(e,s){t=e},d(t){t&&c(e),$=!1,g()}}}function X(t){let e,s=t[0]&&W(t);return{c(){e=n("div"),s&&s.c()},l(t){e=a(t,"DIV",{});var n=o(e);s&&s.l(n),n.forEach(c)},m(t,n){f(t,e,n),s&&s.m(e,null)},p(t,[n]){t[0]?s?s.p(t,n):(s=W(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:$,o:$,d(t){t&&c(e),s&&s.d()}}}function Y(t,e,s){let{open:n=!0}=e,{onClose:l}=e;return t.$$set=t=>{"open"in t&&s(0,n=t.open),"onClose"in t&&s(1,l=t.onClose)},[n,l]}class Z extends t{constructor(t){super(),e(this,t,Y,X,s,{open:0,onClose:1})}}function _(t,e,s){const n=t.slice();return n[8]=e[s],n}function tt(t){let e,s,l=[],r=new Map,i=t[1];const u=t=>t[8].slug;for(let e=0;e<i.length;e+=1){let s=_(t,i,e),n=u(s);r.set(n,l[e]=st(n,s))}return{c(){e=n("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=a(t,"DIV",{class:!0});var s=o(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(c),this.h()},h(){h(e,"class","bookshelf svelte-6uj10p")},m(t,n){f(t,e,n);for(let t=0;t<l.length;t+=1)l[t].m(e,null);s=!0},p(t,s){2&s&&(i=t[1],k(),l=z(l,s,u,1,t,i,r,e,L,st,null,_),A())},i(t){if(!s){for(let t=0;t<i.length;t+=1)x(l[t]);s=!0}},o(t){for(let t=0;t<l.length;t+=1)D(l[t]);s=!1},d(t){t&&c(e);for(let t=0;t<l.length;t+=1)l[t].d()}}}function et(t){let e,s,l;return s=new R({}),{c(){e=n("div"),g(s.$$.fragment),this.h()},l(t){e=a(t,"DIV",{class:!0});var n=o(e);w(s.$$.fragment,n),n.forEach(c),this.h()},h(){h(e,"class","loading-container svelte-6uj10p")},m(t,n){f(t,e,n),C(s,e,null),l=!0},p:$,i(t){l||(x(s.$$.fragment,t),l=!0)},o(t){D(s.$$.fragment,t),l=!1},d(t){t&&c(e),V(s)}}}function st(t,e){let s,n,l;function r(){return e[6](e[8])}return n=new K({props:{onClick:r,title:e[8].title,source:e[8].href}}),{key:t,first:null,c(){s=b(),g(n.$$.fragment),this.h()},l(t){s=b(),w(n.$$.fragment,t),this.h()},h(){this.first=s},m(t,e){f(t,s,e),C(n,t,e),l=!0},p(t,s){e=t;const l={};2&s&&(l.onClick=r),2&s&&(l.title=e[8].title),2&s&&(l.source=e[8].href),n.$set(l)},i(t){l||(x(n.$$.fragment,t),l=!0)},o(t){D(n.$$.fragment,t),l=!1},d(t){t&&c(s),V(n,t)}}}function nt(t){let e,s,v,m,$,y,b,k,z,A,L,N,T,q,B,U,F,M;const O=[et,tt],P=[];return N=1,T=P[1]=O[1](t),B=new Z({props:{open:t[2].open,onClose:t[3]}}),{c(){e=l(),s=n("div"),v=n("div"),m=l(),$=n("div"),y=n("input"),b=l(),k=n("div"),z=n("a"),A=r("index"),L=l(),T.c(),q=l(),g(B.$$.fragment),this.h()},l(t){E('[data-svelte="svelte-t9esqu"]',document.head).forEach(c),e=i(t),s=a(t,"DIV",{class:!0});var n=o(s);v=a(n,"DIV",{}),o(v).forEach(c),m=i(n),$=a(n,"DIV",{class:!0});var l=o($);y=a(l,"INPUT",{type:!0,class:!0}),b=i(l),k=a(l,"DIV",{style:!0});var r=o(k);z=a(r,"A",{href:!0});var h=o(z);A=u(h,"index"),h.forEach(c),r.forEach(c),l.forEach(c),L=i(n),T.l(n),q=i(n),w(B.$$.fragment,n),n.forEach(c),this.h()},h(){document.title="Light Novels Epub Collections",h(y,"type","text"),h(y,"class","svelte-6uj10p"),h(z,"href","/series"),I(k,"display","none"),h($,"class","search-box svelte-6uj10p"),h(s,"class","container svelte-6uj10p")},m(n,l){f(n,e,l),f(n,s,l),p(s,v),p(s,m),p(s,$),p($,y),j(y,t[0]),p($,b),p($,k),p(k,z),p(z,A),p(s,L),P[1].m(s,null),p(s,q),C(B,s,null),U=!0,F||(M=d(y,"input",t[5]),F=!0)},p(t,[e]){1&e&&y.value!==t[0]&&j(y,t[0]),T.p(t,e);const s={};4&e&&(s.open=t[2].open),B.$set(s)},i(t){U||(x(T),x(B.$$.fragment,t),U=!0)},o(t){D(T),D(B.$$.fragment,t),U=!1},d(t){t&&c(e),t&&c(s),P[1].d(),V(B),F=!1,M()}}}function lt(){return this.fetch("/series.json").then((t=>t.json())).then((t=>({data:t.slice(0,8).map((t=>{return{...t,slug:(e=t.title,n=s&&s.replacement||"",l=G(e,n),""===n?l:G(l,""))};var e,s,n,l}))})))}function rt(t,e,s){let{data:n}=e,l="",r=[],a={open:!1};const o=t=>t.toLowerCase().trim();return t.$$set=t=>{"data"in t&&s(4,n=t.data)},t.$$.update=()=>{17&t.$$.dirty&&(l.length>2?s(1,r=n.filter((t=>o(t.title).includes(o(l)))).slice(0,8)):s(1,r=n.slice(0,8)))},[l,r,a,()=>{s(2,a={open:!1})},n,function(){l=this.value,s(0,l)},t=>{y(`/series/${t.slug}`)}]}export default class extends t{constructor(t){super(),e(this,t,rt,nt,s,{data:4})}}export{lt as preload};
