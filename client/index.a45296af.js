import{S as e,i as t,s,e as n,a as l,t as r,c as a,b as o,d as c,f as i,g as u,h,j as f,k as p,l as d,m as v,n as g,o as $,p as m,q as E,r as w,u as I,v as j,w as C,x,y as D,z as V,A as y,B as b,C as k,D as z,E as A,F as L}from"./client.05b368dc.js";function N(e){return e>=55296&&e<=56319}function T(e){return e>=56320&&e<=57343}function q(e){return e>=55296&&e<=56319}function B(e){return e>=56320&&e<=57343}var U=function(e,t,s){if("string"!=typeof t)throw new Error("Input must be string");for(var n,l,r=t.length,a=0,o=0;o<r;o+=1){if(n=t.charCodeAt(o),l=t[o],N(n)&&T(t.charCodeAt(o+1))&&(l+=t[o+=1]),(a+=e(l))===s)return t.slice(0,o+1);if(a>s)return t.slice(0,o-l.length+1)}return t}.bind(null,(function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,s=0,n=null,l=null,r=0;r<t;r++)B(n=e.charCodeAt(r))?null!=l&&q(l)?s+=1:s+=3:n<=127?s+=1:n>=128&&n<=2047?s+=2:n>=2048&&n<=65535&&(s+=3),l=n;return s})),F=/[\/\?<>\\:\*\|"]/g,M=/[\x00-\x1f\x80-\x9f]/g,O=/^\.+$/,P=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,S=/[\. ]+$/;function G(e,t){if("string"!=typeof e)throw new Error("Input must be string");var s=e.replace(F,t).replace(M,t).replace(O,t).replace(P,t).replace(S,t);return U(s,255)}function H(e){let t,s,m,E,w,I,j,C;return{c(){t=n("div"),s=n("div"),m=l(),E=n("div"),w=n("div"),I=r(e[0]),this.h()},l(n){t=a(n,"DIV",{class:!0});var l=o(t);s=a(l,"DIV",{class:!0}),o(s).forEach(c),m=i(l),E=a(l,"DIV",{class:!0});var r=o(E);w=a(r,"DIV",{class:!0});var h=o(w);I=u(h,e[0]),h.forEach(c),r.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","cover svelte-je393w"),h(w,"class","title svelte-je393w"),h(E,"class","content svelte-je393w"),h(t,"class","book-container svelte-je393w")},m(n,l){f(n,t,l),p(t,s),p(t,m),p(t,E),p(E,w),p(w,I),j||(C=d(t,"click",(function(){v(e[1])&&e[1].apply(this,arguments)})),j=!0)},p(t,[s]){e=t,1&s&&g(I,e[0])},i:$,o:$,d(e){e&&c(t),j=!1,C()}}}function J(e,t,s){let{title:n}=t,{source:l}=t,{azw:r}=t,{onClick:a}=t;return e.$$set=e=>{"title"in e&&s(0,n=e.title),"source"in e&&s(2,l=e.source),"azw"in e&&s(3,r=e.azw),"onClick"in e&&s(1,a=e.onClick)},[n,a,l,r]}class K extends e{constructor(e){super(),t(this,e,J,H,s,{title:0,source:2,azw:3,onClick:1})}}function Q(e){let t,s;return{c(){t=n("div"),s=r("Loading..."),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=o(t);s=u(n,"Loading..."),n.forEach(c),this.h()},h(){h(t,"class","loader")},m(e,n){f(e,t,n),p(t,s)},p:$,i:$,o:$,d(e){e&&c(t)}}}class R extends e{constructor(e){super(),t(this,e,null,Q,s,{})}}function W(e){let t,s,r,u,g,$,m;return{c(){t=n("div"),s=n("div"),r=l(),u=n("div"),g=n("button"),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=o(t);s=a(n,"DIV",{class:!0}),o(s).forEach(c),r=i(n),u=a(n,"DIV",{class:!0});var l=o(u);g=a(l,"BUTTON",{class:!0}),o(g).forEach(c),l.forEach(c),n.forEach(c),this.h()},h(){h(s,"class","overlay svelte-ejmol4"),h(g,"class","close-btn svelte-ejmol4"),h(u,"class","detail-content svelte-ejmol4"),h(t,"class","detail-container svelte-ejmol4")},m(n,l){f(n,t,l),p(t,s),p(t,r),p(t,u),p(u,g),$||(m=d(g,"click",(function(){v(e[1])&&e[1].apply(this,arguments)})),$=!0)},p(t,s){e=t},d(e){e&&c(t),$=!1,m()}}}function X(e){let t,s=e[0]&&W(e);return{c(){t=n("div"),s&&s.c()},l(e){t=a(e,"DIV",{});var n=o(t);s&&s.l(n),n.forEach(c)},m(e,n){f(e,t,n),s&&s.m(t,null)},p(e,[n]){e[0]?s?s.p(e,n):(s=W(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:$,o:$,d(e){e&&c(t),s&&s.d()}}}function Y(e,t,s){let{open:n=!0}=t,{onClose:l}=t;return e.$$set=e=>{"open"in e&&s(0,n=e.open),"onClose"in e&&s(1,l=e.onClose)},[n,l]}class Z extends e{constructor(e){super(),t(this,e,Y,X,s,{open:0,onClose:1})}}function _(e,t,s){const n=e.slice();return n[8]=t[s],n}function ee(e){let t,s,l=[],r=new Map,i=e[1];const u=e=>e[8].slug;for(let t=0;t<i.length;t+=1){let s=_(e,i,t),n=u(s);r.set(n,l[t]=se(n,s))}return{c(){t=n("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=a(e,"DIV",{class:!0});var s=o(t);for(let e=0;e<l.length;e+=1)l[e].l(s);s.forEach(c),this.h()},h(){h(t,"class","bookshelf svelte-6uj10p")},m(e,n){f(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,s){2&s&&(i=e[1],k(),l=z(l,s,u,1,e,i,r,t,L,se,null,_),A())},i(e){if(!s){for(let e=0;e<i.length;e+=1)x(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)D(l[e]);s=!1},d(e){e&&c(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function te(e){let t,s,l;return s=new R({}),{c(){t=n("div"),m(s.$$.fragment),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=o(t);w(s.$$.fragment,n),n.forEach(c),this.h()},h(){h(t,"class","loading-container svelte-6uj10p")},m(e,n){f(e,t,n),C(s,t,null),l=!0},p:$,i(e){l||(x(s.$$.fragment,e),l=!0)},o(e){D(s.$$.fragment,e),l=!1},d(e){e&&c(t),V(s)}}}function se(e,t){let s,n,l;function r(){return t[6](t[8])}return n=new K({props:{onClick:r,title:t[8].title,source:t[8].href}}),{key:e,first:null,c(){s=b(),m(n.$$.fragment),this.h()},l(e){s=b(),w(n.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){f(e,s,t),C(n,e,t),l=!0},p(e,s){t=e;const l={};2&s&&(l.onClick=r),2&s&&(l.title=t[8].title),2&s&&(l.source=t[8].href),n.$set(l)},i(e){l||(x(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&c(s),V(n,e)}}}function ne(e){let t,s,v,g,$,y,b,k,z,A,L,N,T,q,B,U,F,M;const O=[te,ee],P=[];return N=1,T=P[1]=O[1](e),B=new Z({props:{open:e[2].open,onClose:e[3]}}),{c(){t=l(),s=n("div"),v=n("div"),g=l(),$=n("div"),y=n("input"),b=l(),k=n("div"),z=n("a"),A=r("index"),L=l(),T.c(),q=l(),m(B.$$.fragment),this.h()},l(e){E('[data-svelte="svelte-t9esqu"]',document.head).forEach(c),t=i(e),s=a(e,"DIV",{class:!0});var n=o(s);v=a(n,"DIV",{}),o(v).forEach(c),g=i(n),$=a(n,"DIV",{class:!0});var l=o($);y=a(l,"INPUT",{type:!0,class:!0}),b=i(l),k=a(l,"DIV",{style:!0});var r=o(k);z=a(r,"A",{href:!0});var h=o(z);A=u(h,"index"),h.forEach(c),r.forEach(c),l.forEach(c),L=i(n),T.l(n),q=i(n),w(B.$$.fragment,n),n.forEach(c),this.h()},h(){document.title="Light Novels Epub Collections",h(y,"type","text"),h(y,"class","svelte-6uj10p"),h(z,"href","/series"),I(k,"display","none"),h($,"class","search-box svelte-6uj10p"),h(s,"class","container svelte-6uj10p")},m(n,l){f(n,t,l),f(n,s,l),p(s,v),p(s,g),p(s,$),p($,y),j(y,e[0]),p($,b),p($,k),p(k,z),p(z,A),p(s,L),P[1].m(s,null),p(s,q),C(B,s,null),U=!0,F||(M=d(y,"input",e[5]),F=!0)},p(e,[t]){1&t&&y.value!==e[0]&&j(y,e[0]),T.p(e,t);const s={};4&t&&(s.open=e[2].open),B.$set(s)},i(e){U||(x(T),x(B.$$.fragment,e),U=!0)},o(e){D(T),D(B.$$.fragment,e),U=!1},d(e){e&&c(t),e&&c(s),P[1].d(),V(B),F=!1,M()}}}function le(){return this.fetch("/series.json").then((e=>e.json())).then((e=>({data:e.slice(0,8).map((e=>{return{...e,slug:(t=e.title,n=s&&s.replacement||"",l=G(t,n),""===n?l:G(l,""))};var t,s,n,l}))})))}function re(e,t,s){let{data:n}=t,l="",r=[],a={open:!1};const o=e=>e.toLowerCase().trim();return e.$$set=e=>{"data"in e&&s(4,n=e.data)},e.$$.update=()=>{17&e.$$.dirty&&(l.length>2?s(1,r=n.filter((e=>o(e.title).includes(o(l)))).slice(0,8)):s(1,r=n.slice(0,8)))},[l,r,a,()=>{s(2,a={open:!1})},n,function(){l=this.value,s(0,l)},e=>{console.log(`/series/${e.slug}`),y(`/series/${e.slug}`),console.log(`/series/${e.slug}`)}]}export default class extends e{constructor(e){super(),t(this,e,re,ne,s,{data:4})}}export{le as preload};
