import{S as t,i as e,s,e as n,a as l,t as r,c as o,b as a,d as c,f as i,g as u,h,j as f,k as p,l as d,m as v,n as g,o as $,p as m,q as E,r as w,u as I,v as j,w as C,x as D,y as x,z as V,A as k,B as b,C as y,D as z,E as A}from"./client.ff8c8472.js";function L(t){return t>=55296&&t<=56319}function N(t){return t>=56320&&t<=57343}function T(t){return t>=55296&&t<=56319}function q(t){return t>=56320&&t<=57343}var B=function(t,e,s){if("string"!=typeof e)throw new Error("Input must be string");for(var n,l,r=e.length,o=0,a=0;a<r;a+=1){if(n=e.charCodeAt(a),l=e[a],L(n)&&N(e.charCodeAt(a+1))&&(l+=e[a+=1]),(o+=t(l))===s)return e.slice(0,a+1);if(o>s)return e.slice(0,a-l.length+1)}return e}.bind(null,(function(t){if("string"!=typeof t)throw new Error("Input must be string");for(var e=t.length,s=0,n=null,l=null,r=0;r<e;r++)q(n=t.charCodeAt(r))?null!=l&&T(l)?s+=1:s+=3:n<=127?s+=1:n>=128&&n<=2047?s+=2:n>=2048&&n<=65535&&(s+=3),l=n;return s})),U=/[\/\?<>\\:\*\|"]/g,M=/[\x00-\x1f\x80-\x9f]/g,O=/^\.+$/,P=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,S=/[\. ]+$/;function F(t,e){if("string"!=typeof t)throw new Error("Input must be string");var s=t.replace(U,e).replace(M,e).replace(O,e).replace(P,e).replace(S,e);return B(s,255)}function G(t){let e,s,m,E,w,I,j,C;return{c(){e=n("div"),s=n("div"),m=l(),E=n("div"),w=n("div"),I=r(t[0]),this.h()},l(n){e=o(n,"DIV",{class:!0});var l=a(e);s=o(l,"DIV",{class:!0}),a(s).forEach(c),m=i(l),E=o(l,"DIV",{class:!0});var r=a(E);w=o(r,"DIV",{class:!0});var h=a(w);I=u(h,t[0]),h.forEach(c),r.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","cover svelte-je393w"),h(w,"class","title svelte-je393w"),h(E,"class","content svelte-je393w"),h(e,"class","book-container svelte-je393w")},m(n,l){f(n,e,l),p(e,s),p(e,m),p(e,E),p(E,w),p(w,I),j||(C=d(e,"click",(function(){v(t[1])&&t[1].apply(this,arguments)})),j=!0)},p(e,[s]){t=e,1&s&&g(I,t[0])},i:$,o:$,d(t){t&&c(e),j=!1,C()}}}function H(t,e,s){let{title:n}=e,{source:l}=e,{azw:r}=e,{onClick:o}=e;return t.$$set=t=>{"title"in t&&s(0,n=t.title),"source"in t&&s(2,l=t.source),"azw"in t&&s(3,r=t.azw),"onClick"in t&&s(1,o=t.onClick)},[n,o,l,r]}class J extends t{constructor(t){super(),e(this,t,H,G,s,{title:0,source:2,azw:3,onClick:1})}}function K(t){let e,s;return{c(){e=n("div"),s=r("Loading..."),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=a(e);s=u(n,"Loading..."),n.forEach(c),this.h()},h(){h(e,"class","loader")},m(t,n){f(t,e,n),p(e,s)},p:$,i:$,o:$,d(t){t&&c(e)}}}class Q extends t{constructor(t){super(),e(this,t,null,K,s,{})}}function R(t){let e,s,r,u,g,$,m;return{c(){e=n("div"),s=n("div"),r=l(),u=n("div"),g=n("button"),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=a(e);s=o(n,"DIV",{class:!0}),a(s).forEach(c),r=i(n),u=o(n,"DIV",{class:!0});var l=a(u);g=o(l,"BUTTON",{class:!0}),a(g).forEach(c),l.forEach(c),n.forEach(c),this.h()},h(){h(s,"class","overlay svelte-ejmol4"),h(g,"class","close-btn svelte-ejmol4"),h(u,"class","detail-content svelte-ejmol4"),h(e,"class","detail-container svelte-ejmol4")},m(n,l){f(n,e,l),p(e,s),p(e,r),p(e,u),p(u,g),$||(m=d(g,"click",(function(){v(t[1])&&t[1].apply(this,arguments)})),$=!0)},p(e,s){t=e},d(t){t&&c(e),$=!1,m()}}}function W(t){let e,s=t[0]&&R(t);return{c(){e=n("div"),s&&s.c()},l(t){e=o(t,"DIV",{});var n=a(e);s&&s.l(n),n.forEach(c)},m(t,n){f(t,e,n),s&&s.m(e,null)},p(t,[n]){t[0]?s?s.p(t,n):(s=R(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:$,o:$,d(t){t&&c(e),s&&s.d()}}}function X(t,e,s){let{open:n=!0}=e,{onClose:l}=e;return t.$$set=t=>{"open"in t&&s(0,n=t.open),"onClose"in t&&s(1,l=t.onClose)},[n,l]}class Y extends t{constructor(t){super(),e(this,t,X,W,s,{open:0,onClose:1})}}function Z(t,e,s){const n=t.slice();return n[8]=e[s],n}function _(t){let e,s,l=[],r=new Map,i=t[1];const u=t=>t[8].slug;for(let e=0;e<i.length;e+=1){let s=Z(t,i,e),n=u(s);r.set(n,l[e]=et(n,s))}return{c(){e=n("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=o(t,"DIV",{class:!0});var s=a(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(c),this.h()},h(){h(e,"class","bookshelf svelte-6uj10p")},m(t,n){f(t,e,n);for(let t=0;t<l.length;t+=1)l[t].m(e,null);s=!0},p(t,s){2&s&&(i=t[1],b(),l=y(l,s,u,1,t,i,r,e,A,et,null,Z),z())},i(t){if(!s){for(let t=0;t<i.length;t+=1)C(l[t]);s=!0}},o(t){for(let t=0;t<l.length;t+=1)D(l[t]);s=!1},d(t){t&&c(e);for(let t=0;t<l.length;t+=1)l[t].d()}}}function tt(t){let e,s,l;return s=new Q({}),{c(){e=n("div"),m(s.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=a(e);w(s.$$.fragment,n),n.forEach(c),this.h()},h(){h(e,"class","loading-container svelte-6uj10p")},m(t,n){f(t,e,n),j(s,e,null),l=!0},p:$,i(t){l||(C(s.$$.fragment,t),l=!0)},o(t){D(s.$$.fragment,t),l=!1},d(t){t&&c(e),x(s)}}}function et(t,e){let s,n,l;function r(){return e[6](e[8])}return n=new J({props:{onClick:r,title:e[8].title,source:e[8].href}}),{key:t,first:null,c(){s=k(),m(n.$$.fragment),this.h()},l(t){s=k(),w(n.$$.fragment,t),this.h()},h(){this.first=s},m(t,e){f(t,s,e),j(n,t,e),l=!0},p(t,s){e=t;const l={};2&s&&(l.onClick=r),2&s&&(l.title=e[8].title),2&s&&(l.source=e[8].href),n.$set(l)},i(t){l||(C(n.$$.fragment,t),l=!0)},o(t){D(n.$$.fragment,t),l=!1},d(t){t&&c(s),x(n,t)}}}function st(t){let e,s,r,u,v,g,$,V,k,b,y,z,A,L;const N=[tt,_],T=[];return V=1,k=T[1]=N[1](t),y=new Y({props:{open:t[2].open,onClose:t[3]}}),{c(){e=l(),s=n("div"),r=n("div"),u=l(),v=n("div"),g=n("input"),$=l(),k.c(),b=l(),m(y.$$.fragment),this.h()},l(t){E('[data-svelte="svelte-t9esqu"]',document.head).forEach(c),e=i(t),s=o(t,"DIV",{class:!0});var n=a(s);r=o(n,"DIV",{}),a(r).forEach(c),u=i(n),v=o(n,"DIV",{class:!0});var l=a(v);g=o(l,"INPUT",{type:!0,class:!0}),l.forEach(c),$=i(n),k.l(n),b=i(n),w(y.$$.fragment,n),n.forEach(c),this.h()},h(){document.title="Light Novels Epub Collections",h(g,"type","text"),h(g,"class","svelte-6uj10p"),h(v,"class","search-box svelte-6uj10p"),h(s,"class","container svelte-6uj10p")},m(n,l){f(n,e,l),f(n,s,l),p(s,r),p(s,u),p(s,v),p(v,g),I(g,t[0]),p(s,$),T[1].m(s,null),p(s,b),j(y,s,null),z=!0,A||(L=d(g,"input",t[5]),A=!0)},p(t,[e]){1&e&&g.value!==t[0]&&I(g,t[0]),k.p(t,e);const s={};4&e&&(s.open=t[2].open),y.$set(s)},i(t){z||(C(k),C(y.$$.fragment,t),z=!0)},o(t){D(k),D(y.$$.fragment,t),z=!1},d(t){t&&c(e),t&&c(s),T[1].d(),x(y),A=!1,L()}}}function nt(){return this.fetch("/series.json").then((t=>t.json())).then((t=>({data:t.slice(0,8).map((t=>{return{...t,slug:(e=t.title,n=s&&s.replacement||"",l=F(e,n),""===n?l:F(l,""))};var e,s,n,l}))})))}function lt(t,e,s){let{data:n}=e,l="",r=[],o={open:!1};const a=t=>t.toLowerCase().trim();return t.$$set=t=>{"data"in t&&s(4,n=t.data)},t.$$.update=()=>{17&t.$$.dirty&&(l.length>2?s(1,r=n.filter((t=>a(t.title).includes(a(l)))).slice(0,8)):s(1,r=n.slice(0,8)))},[l,r,o,()=>{s(2,o={open:!1})},n,function(){l=this.value,s(0,l)},t=>{console.log(`/series/${t.slug}`),V(`/series/${t.slug}`),console.log(`/series/${t.slug}`)}]}export default class extends t{constructor(t){super(),e(this,t,lt,st,s,{data:4})}}export{nt as preload};
